{% extends 'base.html.twig' %}

{% block body %}
    <section id="main">
        {% include 'sub-navbar.html.twig' with {'active': 'partners'} %}
        <div class="container-fluid">
            <div class="col-xs-12 section-heading">
                <h2><b>{% trans %}Partners list{% endtrans %}</b></h2>
                <a href="{{ localizedPath('partner_create') }}" class="btn btn-add btn-success pull-right"><span aria-hidden="true"></span>Add Partner</a>
            </div>
            <table class="table table-hover" data-toggle="table">
                <thead>
                <tr class="table-header">
                    <th class="sortable" data-sortable="true">{% trans %}Id{% endtrans %}</th>
                    <th class="sortable" data-sortable="true">{% trans %}Institution{% endtrans %}</th>
                    <th class="sortable" data-sortable="true">{% trans %}Partner type{% endtrans %}</th>
                    <th class="sortable" data-sortable="true">{% trans %}Project coordinator{% endtrans %}</th>
                    <th class="sortable" data-sortable="true">{% trans %}Legal representative{% endtrans %}</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>

                <tbody>
                {% for key,value in partners %}
                    <tr>
                        <td>{{ value.id }}</td>
                        <td> {{ value.institution ? value.institution.name(app.request.locale) : ''}}</td>
                        <td>{{ value.partnerType ? value.partnerType.name(app.request.locale) : ''}}</td>
                        <td>{{ value.projectCoordinator ? value.projectCoordinator.name(app.request.locale) : ''}}</td>
                        <td>{{ value.legalRepresentative ? value.legalRepresentative.name(app.request.locale) : ''}}</td>
                        <td><a href="{{ localizedPath('partner_view', {'id': value.id}) }}">View</a></td>
                        <td><a href="{{ localizedPath('partner_edit', {'id': value.id}) }}">Edit</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    <div>
{% endblock %}